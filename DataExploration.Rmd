---
title: "Data Exploration"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 



Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file).

```{r get working directory}
#set working directory
getwd()
list.files()
```
```{r upload datasets}
# upload datasets to the notebook as dataframes
# upload diabetes breast cancer dataset
BCDf <- read.csv(file = "Datasets/BreastCancerData.csv", header=TRUE, sep=",")

# upload the liver dataset
LiverDf <- read.csv(file = "Datasets/IndianLiver.csv", header = TRUE, sep=",")

# upload the alzeihmers dataset
AlzDf <- read.csv(file =  "Datasets/alzeihmerLongitudinal.csv", header = TRUE, sep=",")

# upload the pima indian diabetes dataset
DiabetesDf <- read.csv(file = "Datasets/diabetes.csv", header = TRUE, sep=",")

# upload the cervical cancer risk classification 
CCDf <- read.csv(file="Datasets/kag_risk_factors_cervical_cancer.csv", header = TRUE, sep=",")

# upload the Lower back pain symptom dataset
LBPDf <- read.csv(file = "Datasets/dataset_spine.csv", header = TRUE, sep=",")

# upload the Heart Attack prediction dataset
HAPDf <- read.csv(file = "Datasets/HeartAttackData.csv", header = TRUE, sep=",")

# upload the  autism screening dataset
AuSDf <- read.csv(file = "Datasets/Autism_data.csv", header = TRUE, sep= ",")

# upload the fertility dataset
FertDf <- read.csv(file = "Datasets/fertility.csv", header = TRUE, sep =",")


```


All datasets have been uploaded as dataframes start data exploration

```{r data exploration BCDf}
# show number of columns and rows for BCFf
cat("Shape of BCDf is: ", dim(BCDf))
head(BCDf)
summary(BCDf)
colnames(BCDf)

#class labels are B and M - Let's recode to 0 and 1
levels(BCDf$diagnosis)[1] <-0
levels(BCDf$diagnosis)[2] <-1
levels(BCDf$diagnosis)

head(BCDf)

# class distribution
BCCounts <- table(BCDf$diagnosis)

# show distribution of each mean column
BCAreaMCounts <- density(BCDf$area_mean)
plot(BCAreaMCounts, main = "Distribution of the values for area (mean)", xlab ="area values")
```

```{r Indian Liver Patient }
cat("Shape of LiverDf is: ", dim(LiverDf))
head(LiverDf)
summary(LiverDf)
colnames(LiverDf)

#class distribution
# for this dataset label is 1 (no liver disease) and 2 (liver disease)
#so first change all the 1 to 0 and 2 to 1 so all the datasets are the same
LiverDf$Dataset[LiverDf$Dataset==1]<-0
LiverDf$Dataset[LiverDf$Dataset==2]<-1
head(LiverDf)
LiverDfCounts <- table(LiverDf$Dataset)

```

```{r Alzheimer Dataset}
cat("Shape of AlzDf is: ", dim(AlzDf))
head(AlzDf)
summary(AlzDf)
colnames(AlzDf)

#class distribution
# for this dataset label is Demented, converted or nondemented 
#so first change all to 0(non demented) and 1 (converted) and 2(demented) so all the datasets are the same
levels(AlzDf$Group)
levels(AlzDf$Group)[1]<-1
levels(AlzDf$Group)[2]<-2
levels(AlzDf$Group)[3]<-0
levels(AlzDf$Group)

AlzDfCount <- table(AlzDf$Group)

```

```{r Pima Indian Diabetes Dataset}
cat("Shape of DiabetesDf is: ", dim(DiabetesDf))
head(DiabetesDf)
summary(DiabetesDf)
colnames(DiabetesDf)

#class distribution
#outcome is already 1(develop diabetes within 5 years) or 0 (will not develop diabetes within 5 years) so no need to recode
DiabetesDfCount <-table(DiabetesDf$Outcome)
```

```{r Cervical Cancer Dataset}
cat("Shape of CCDf is: ", dim(CCDf))
head(CCDf)
summary(CCDf)
colnames(CCDf)

#class distribution
#there are four labels here (Hinselmann, Schiller, Citology and Biopsy) already expressed numerically as 0 or 1
#perhaps need to consider only one or aggregate as 1?
#in the meantime create class distribution for each
#create an additional column for aggreagation score?


```
```{r Lower Back pain dataset}
cat("Shape of LBPDf is: ", dim(LBPDf))
head(LBPDf)
summary(LBPDf)
colnames(LBPDf)
#need to rename all the columns
#Col1pelvic_incidence
#Col2pelvic tilt
#Col3lumbar_lordosis_angle
#Col4sacral_slope
#Col5pelvic_radius
#Col6degree_spondylolisthesis
#Col7pelvic_slope
#Col8Direct_tilt
#Col9thoracic_slope
#Col10cervical_tilt
#Col11sacrum_angle
#Col12scoliosis_slope
names(LBPDf) <- c("pelvic_incidence", "pelvic_tilt", 
                  "lumbar_lordosis_angle", "sacral_slope",
                  "pelvic_radius", "degree_spondylolisthesis",
                  "pelvic_slope", "direct_tilt",
                  "thoracic_slope", "cervical_tilt",
                  "sacrum_angle", "scoliosis_slope",
                  "Class_label", "X")
colnames(LBPDf)
#need to recode class label 0 for Normal and 1 for abnormal
#Class_attAbnormal, Normal
levels(LBPDf$Class_label)
levels(LBPDf$Class_label)[1] <- 1
levels(LBPDf$Class_label)[2] <-0
levels(LBPDf$Class_label)

#class distribution
LBPDfCount <- table(LBPDf$Class_label)
```


```{r Heart Attack dataset}
cat("Shape of HAPDf is: ", dim(HAPDf))
head(HAPDf)
summary(HAPDf)
colnames(HAPDf)

# this appears to contain only the hungarian database (number of rows)
#class labels is expressed as 0 (no heart disease) or 1 -4 (heart disease ) in the num column
#found UCI document that explains the 1-4 a bit though still not clear on the cutoff and actual significance. Original database was only 1-0 but some of it looks corrupted?
max(HAPDf$num)
min(HAPDf$num)

# max and min of num column are 1 and O so looks like the diagnostic is binary after all.

#class distribution
HAPDfCount <- table(HAPDf$num)
```

```{r Autism screening}
cat("Shape of AuSDf is: ", dim(AuSDf))
head(AuSDf)
summary(AuSDf)
colnames(AuSDf)

#notes on column
#the "autism" column (column 15) refers to whether or not a family member has PDD or not
# the result (column 18) is an integer score from the diagnostic
#the label in this case is the last column Class.ASD

levels(AuSDf$Class.ASD)
#levels are NO and Yes, let's convert this to 0 for No and 1 for yes
levels(AuSDf$Class.ASD)[1] <-0
levels(AuSDf$Class.ASD)[2]<-1
levels(AuSDf$Class.ASD)

#class distribution
AuSDfCount <- table(AuSDf$Class.ASD)
```

```{r Fertility Dataset}
cat("Shape of FertDf is: ", dim(FertDf))
head(FertDf)
summary(FertDf)
colnames(FertDf)

#levels in class labels
levels(FertDf$Diagnosis)
#change levels to 0 for Normal and 1 for Altered
levels(FertDf$Diagnosis)[1] <- 1
levels(FertDf$Diagnosis)[2] <- 0
levels(FertDf$Diagnosis)

#class distribution
FertDfCount <- table(FertDf$Diagnosis)
```

All of the datasets have been uploaded and processed so as to have numeric class labels
Let's now display the class distribution on a graph 

```{r}
#class distribution of all datasets
#create a 3x3 array
par(mfrow=c(3,3))
barplot(BCCounts, col=c("blue"),
        xlab = "Breast Cancer Diagnosis Distribution",
        ylab = "Frequency",
        main = "A")
barplot(LiverDfCounts, col=c("blue"),
        xlab = "Indian Liver Disease Distribution",
        ylab = "Frequency",
        main = "B")
barplot(AlzDfCount, col=c("blue"),
        xlab = "Alzheimer Prediction Disitribution",
        ylab = "Frequency",
        main = "C")
barplot(DiabetesDfCount, col=c("blue"),
        xlab = "Pima Indian Diabetes Distribution",
        ylab = "Frequency",
        main = "D")
barplot(table(CCDf$Biopsy), col=c("blue"), #using biopsy column for now
        xlab = "Cervical cancer diagnosis distribution",
        ylab = "Frequency",
        main = "E")
barplot(LBPDfCount, col=c("blue"),
        xlab = "Lower Back Pain Diagnostic Distribution",
        ylab = "Frequency",
        main = "F")
barplot(HAPDfCount, col=c("blue"),
        xlab = "Heart Disease Diagnostic Distribution",
        ylab = "Frequency",
        main = "G")
barplot(AuSDfCount, col=c("blue"),
        xlab = "Autism Diagnostic Distribution",
        ylab = "Frequency",
        main = "H")
barplot(FertDfCount, col=c("blue"),
        xlab = "Fertility Diagnsotic Distribution",
        ylab = "Frequency",
        main = "I")


```


